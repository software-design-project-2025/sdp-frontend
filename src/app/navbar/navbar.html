<nav class="navbar">
  <!-- Left Side: Logo and Brand Name -->
  <div class="navbar-left">
    <a routerLink="/home" class="navbar-logo">
      <img ngSrc="/assets/logo.png" alt="StudyLink Logo" width="36" height="36" />
      <span class="logo-text">StudyLink</span>
    </a>
  </div>

  <!-- Center & Right Sections Wrapper (for mobile layout) -->
  <div class="nav-menu" [class.is-open]="isMenuOpen">
    <!-- Center: Main Navigation Links -->
    <ul class="navbar-center">
      @for (link of navLinks; track link.path) {
        <li>
          <a
            [routerLink]="link.path"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: link.path === '/home' }"
            (click)="isMenuOpen = false"
            class="navbar-link"
          >
            <!-- Icon rendered safely with @switch -->
            <div class="icon-wrapper">
              @switch (link.name) {
                @case ('Dashboard') { <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5" /></svg> }
                @case ('Find Partners') { <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m-7.5-2.962c.513-.513.513-1.353 0-1.866l-4.243-4.243a3 3 0 0 0-4.242 0l-1.866 1.867a3 3 0 0 0 0 4.242l4.243 4.243a3 3 0 0 0 4.242 0l1.866-1.867Zm11.25-1.866-4.243-4.243a3 3 0 0 0-4.242 0l-1.866 1.867a3 3 0 0 0 0 4.242l4.243 4.243a3 3 0 0 0 4.242 0l1.866-1.867a3 3 0 0 0 0-4.242Z" /></svg> }
                @case ('Chat') { <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193l-1.423.116c-1.05.086-1.956.84-2.284 1.843l-.633 1.901c-.335.98-.987 1.69-1.902 1.902l-1.901.633c-.983.327-1.843-.22-2.193-1.98l-.116-1.423c-.086-1.05-.84-1.956-1.843-2.284l-1.901-.633c-.98-.335-1.69-.987-1.902-1.902l-.633-1.901c-.327-.983.22-1.843 1.98-2.193l1.423-.116c1.05-.086 1.956-.84 2.284-1.843l.633-1.901c.335-.98.987-1.69 1.902-1.902l1.901-.633c.983-.327 1.843.22 2.193 1.98l.116 1.423c.086 1.05.84 1.956 1.843 2.284l1.901.633Z" /></svg> }
                @case ('Study Sessions') { <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" /></svg> }
                @case ('Progress') { <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941" /></svg> }
                @case ('Profile') { <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" /></svg> }
              }
            </div>
            <span class="link-text">{{ link.name }}</span>
          </a>
        </li>
      }
    </ul>
    <!-- Right Side: Logout Button -->
    <div class="navbar-right">
      <button class="logout-button" (click)="logout()">
        Logout
      </button>
    </div>
  </div>

  <!-- Mobile Menu Toggle Button (Visible only on mobile) -->
  <button class="navbar-toggle" (click)="toggleMenu()" aria-label="Toggle navigation">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
  </button>
</nav>
